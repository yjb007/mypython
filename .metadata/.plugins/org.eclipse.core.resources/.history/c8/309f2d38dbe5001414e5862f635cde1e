#! /usr/bin/env python
#_*_ coding:utf-8 _*_
import MySQLdb



########insert,update,delete########
conn = MySQLdb.connect(host = '10.0.18.1',user='root',passwd='123456',db='teacher');  
cur = conn.cursor();  

# param1 = raw_input('请输入你的名字：')
# param2 = input('请输入你的年龄：')
# sql = 'insert into teacher (name,age) values(%s,%s)'
# params = (param1,param2)
#使用变量插入数据

# sql = 'insert into teacher (name,age) values(%s,%s)'
# params = [('alex',24), ('sb',34),]
# reCount = cur.executemany(sql,params)
# conn.commit()
#插入多条数据，注意cur.executemany

# sql = 'insert into teacher (name,age) values(%s,%s)'
# params = ('user01','25')
#插入单条数据

# sql = 'update teacher set name=%s where teacher.age=%s;'
# params = ('user02',25)
#更新数据

# sql = 'delete from teacher where name=%s; '
# params = ('user02',)
#删除数据

reCount = cur.execute(sql,params)
conn.commit()

cur.close()
conn.close()

print reCount

#关于事物，同时提交多条语句后，再执行conn.commit()的，如果有一条语句执行失败，则conn.commit()会失败，默认启用事物

############select##############

conn = MySQLdb.connect(host = '10.0.18.1',user='root',passwd='123456',db='teacher');  
# cur = conn.cursor();  
cur = conn.cursor(cursorclass = MySQLdb.cursors.DictCursor)

sql = 'select * from teacher.teacher where id = %s;'
params = (5,)

reCount = cur.execute(sql,params)
data = cur.fetchall()

cur.close()
conn.close()

print reCount
print data








